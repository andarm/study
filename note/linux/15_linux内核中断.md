**中断处理氛围上半部和下半部** 
 为什么需要将中断分为上下部，因为产生中断后不允许阻塞太久，
# 上部
 - 立即执行
 - 保存设备数据 

# 下部


# 软中断和tasklet，工作队列 ，可以应用的机制
- 软中断是在执行前就静态注册
- tasklet是动态注册  (不能休眠，允许中断)
- 任务队列 允许睡眠 



# BH 
bottom half 下半部机制

### 自旋锁 在BH

- spin_lock_bh spin_lock_bh通常用在进程中，用来禁止抢断和禁止软中断
- spin_lock 是用来禁止中断的

# tasklet  
- 主要应用软中断上下文中 


# tasklet 和 工作队列区别 
- 工作队列和将工作往后推，而tasklet只执行最新一个 
- 工作队列允许睡眠，tasklet不允许 

- 意味着在需要获得大量的内存时、在需要获取信号量时，在需要执行阻塞式的I/O操作时，它都会非常有用。如果不需要用一个内核线程来推后执行工作，那么就考虑使用tasklet。

